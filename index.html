<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALTORRA CARS | Venta de Automóviles en Cartagena</title>
    <meta name="description" content="ALTORRA CARS - Venta de automóviles nuevos y usados en Cartagena. Chevrolet, Renault, Nissan, Kia y todas las marcas.">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/mobile-fixes.css">
    <link rel="stylesheet" href="css/featured-fixes.css">
    <link rel="stylesheet" href="css/vehicles-cards-fix.css">
<link rel="stylesheet" href="css/sidebar-filters-fix.css">
    <link rel="stylesheet" href="css/favorites-fix.css">
    <link rel="stylesheet" href="css/footer-fixes.css">
    <link rel="stylesheet" href="css/brands-fixes.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Component -->
    <div id="header-placeholder"></div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 class="hero-title">Tu Auto Ideal te Espera en Cartagena</h1>
            <p class="hero-subtitle">Nuevos y Usados • Todas las Marcas • Financiación Disponible</p>
            
            <!-- Quick Action Buttons -->
            <div class="hero-buttons">
                <a href="vehiculos-nuevos.html" class="btn-hero btn-primary">Ver Nuevos</a>
                <a href="vehiculos-usados.html" class="btn-hero btn-secondary">Ver Usados</a>
                <a href="busqueda.html" class="btn-hero btn-outline">Búsqueda Avanzada</a>
            </div>
        </div>
    </section>

  <!-- Featured Vehicles Section - FASE 2: Con Carrusel -->
<section class="featured-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Vehículos <span class="highlight">Destacados</span></h2>
      <a href="vehiculos-usados.html" class="view-all">Ver todos →</a>
    </div>

    <!-- Flechas del carrusel (van entre el header y el grid) -->
    <button class="carousel-arrow prev" type="button" aria-label="Anterior" onclick="scrollCarousel(-1)">‹</button>
    <button class="carousel-arrow next" type="button" aria-label="Siguiente" onclick="scrollCarousel(1)">›</button>

    <div class="vehicles-grid" id="featuredVehicles">
      <!-- Vehicles will be loaded dynamically -->
    </div>
  </div>
</section>

    <!-- Categories Section -->
    <section class="categories-section">
        <div class="container">
            <h2 class="section-title">Busca por <span class="highlight">Categoría</span></h2>
            <div class="categories-grid">
                <a href="vehiculos-sedan.html" class="category-card">
                    <div class="category-image">
                        <img src="multimedia/categories/sedan.jpg" alt="Sedán" loading="lazy">
                    </div>
                    <h3 class="category-name">Sedán</h3>
                </a>
                
                <a href="vehiculos-suv.html" class="category-card">
                    <div class="category-image">
                        <img src="multimedia/categories/suv.jpg" alt="SUV" loading="lazy">
                    </div>
                    <h3 class="category-name">SUV</h3>
                </a>
                
                <a href="vehiculos-camionetas.html" class="category-card">
                    <div class="category-image">
                        <img src="multimedia/categories/camioneta.jpg" alt="Camioneta" loading="lazy">
                    </div>
                    <h3 class="category-name">Camionetas</h3>
                </a>
                
                <a href="vehiculos-hatchback.html" class="category-card">
                    <div class="category-image">
                        <img src="multimedia/categories/hatchback.jpg" alt="Hatchback" loading="lazy">
                    </div>
                    <h3 class="category-name">Hatchback</h3>
                </a>
            </div>
        </div>
    </section>

    <!-- Popular Brands Section - FASE 2: Con logos dinámicos -->
    <section class="brands-section">
        <div class="container">
            <h2 class="section-title">Marcas <span class="highlight">Populares</span></h2>
            <div class="brands-grid" id="popularBrands">
                <!-- Brands will be loaded dynamically -->
            </div>
            <div class="text-center mt-3">
                <a href="busqueda.html" class="btn-view-more">Ver todas las marcas →</a>
            </div>
        </div>
    </section>

    <!-- Experts Section - FASE 1: Más comercial -->
    <section class="experts-section">
        <div class="container">
            <div class="experts-header">
                <h2 class="section-title">Somos Expertos en <span class="highlight">Carros en Cartagena</span></h2>
                <p class="section-subtitle">Contamos con la mejor asesoría en nuestras vitrinas para comprar el carro de tus sueños de la manera más cómoda, segura y fácil</p>
            </div>

            <!-- Garantía Destacada Rediseñada -->
            <div class="guarantee-section">
                <div class="guarantee-card">
                    <div class="guarantee-badge">
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                            <circle cx="40" cy="40" r="38" stroke="#b89658" stroke-width="3" fill="rgba(184, 150, 88, 0.1)"/>
                            <path d="M40 15L45 25L55 27L47.5 35L49 45L40 40L31 45L32.5 35L25 27L35 25L40 15Z" fill="#b89658"/>
                            <text x="40" y="62" font-size="24" font-weight="bold" fill="#b89658" text-anchor="middle">✓</text>
                        </svg>
                    </div>
                    <div class="guarantee-details">
                        <h3 class="guarantee-title">Garantía Incluida</h3>
                        <div class="guarantee-specs">
                            <div class="spec-item">
                                <span class="spec-value">12</span>
                                <span class="spec-label">MESES</span>
                            </div>
                            <div class="spec-divider">o</div>
                            <div class="spec-item">
                                <span class="spec-value">20,000</span>
                                <span class="spec-label">KILÓMETROS</span>
                            </div>
                        </div>
                        <p class="guarantee-description">Todos nuestros vehículos incluyen cobertura de garantía para tu tranquilidad</p>
                        <a href="garantia.html" class="guarantee-link">Ver detalles de garantía →</a>
                    </div>
                </div>
            </div>

            <!-- Proceso de Compra en 3 Pasos -->
            <div class="process-section">
                <h3 class="process-title">Compra tu auto en <span class="highlight">3 sencillos pasos</span></h3>
                <div class="process-grid">
                    <div class="process-step">
                        <div class="step-number">1</div>
                        <h4>Busca y Elige</h4>
                        <p>Explora nuestro catálogo y encuentra el auto perfecto para ti</p>
                    </div>
                    <div class="process-step">
                        <div class="step-number">2</div>
                        <h4>Vehículos Certificados</h4>
                        <p>Todos nuestros vehículos se encuentran inspeccionados y certificados</p>
                    </div>
                    <div class="process-step">
                        <div class="step-number">3</div>
                        <h4>Financia y Llévalo</h4>
                        <p>Te ayudamos con la financiación y trámites en minutos</p>
                    </div>
                </div>
            </div>

            <!-- Beneficios -->
            <div class="benefits-grid">
                <div class="benefit-item">
                    <span class="benefit-icon">✓</span>
                    <span>Vehículos Certificados</span>
                </div>
                <div class="benefit-item">
                    <span class="benefit-icon">✓</span>
                    <span>Financiación al Instante</span>
                </div>
                <div class="benefit-item">
                    <span class="benefit-icon">✓</span>
                    <span>Asesoría Experta</span>
                </div>
                <div class="benefit-item">
                    <span class="benefit-icon">✓</span>
                    <span>Mejores Precios</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>¿Listo para encontrar tu auto ideal?</h2>
                <p>Contáctanos ahora y recibe asesoría personalizada</p>
                <div class="cta-buttons">
                    <a href="contacto.html" class="btn-cta-primary">Contactar</a>
                    <a href="https://wa.me/573235016747?text=Hola%20ALTORRA%20CARS,%20necesito%20información" class="btn-cta-whatsapp" target="_blank">
                        <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                        </svg>
                        WhatsApp
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Component -->
    <div id="footer-placeholder"></div>

    <!-- Scripts -->
    <script src="js/components.js"></script>
    <script src="js/database.js"></script>
    <script src="js/render.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Load featured vehicles (sistema simple de scroll)
        async function loadFeatured() {
            showLoading('featuredVehicles');
            await vehicleDB.load();
            const featured = vehicleDB.getFeatured();
            renderVehicles(featured, 'featuredVehicles');
        }

        // FASE 2: Load popular brands dynamically
        async function loadPopularBrands() {
            await vehicleDB.load();
            const brands = vehicleDB.getAllBrands(); // CORREGIDO: usar método correcto

            // Show first 12 brands
            const popularBrands = brands.slice(0, 12);
            const container = document.getElementById('popularBrands');

            if (container) {
                const html = popularBrands.map(brand => `
                    <a href="marca.html?marca=${brand.id}" class="brand-card">
                        <img src="${brand.logo}" alt="${brand.nombre}" class="brand-logo"
                             onerror="this.style.display='none'">
                        <div class="brand-name">${brand.nombre}</div>
                    </a>
                `).join('');

                container.innerHTML = html;
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            loadFeatured();
            loadPopularBrands();
        });
    </script>
    <script>
function scrollCarousel(direction) {
    const grid = document.querySelector('.featured-section .vehicles-grid');
    const cardWidth = 340;
    grid.scrollBy({
        left: direction * cardWidth,
        behavior: 'smooth'
    });
}
</script>
</body>
</html>
